<!DOCTYPE html>
<html
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:core="http://typo3.org/ns/TYPO3/CMS/Core/ViewHelpers"
    data-namespace-typo3-fluid="true">
    <f:layout name="BackEndModule"/>

    <f:section name="Header"/>

    <f:section name="Content">
        <f:if condition="{permissions.readAccessToEvents}">
            <div class="row">
                <h1 class="col-auto me-auto">
                    <f:translate key="backEndModule.heading.events"/>
                </h1>
                <div class="col-auto">
                    <f:if condition="{events}">
                        <f:link.action controller="BackEnd\Event" action="exportCsv" arguments="{pageUid: pageUid}" class="btn btn-default btn-sm">
                            <core:icon identifier="actions-document-export-csv"/>
                            <f:translate key="backEndModule.action.csvDownload"/>
                        </f:link.action>
                    </f:if>
                </div>
            </div>

            <f:if condition="{pageUid} > 0">
                <f:then>
                    <f:if condition="{events}">
                        <f:then>
                            <f:render partial="BackEnd/EventList" arguments="{_all}"/>
                        </f:then>
                        <f:else>
                            <f:render partial="BackEnd/FlashMessage"
                                      arguments="{severity: 'info', messageBodyKey: 'noEventsInFolder'}"/>
                        </f:else>
                    </f:if>
                </f:then>
                <f:else>
                    <f:render partial="BackEnd/FlashMessage"
                              arguments="{severity: 'info', messageBodyKey: 'selectFolder'}"/>
                </f:else>
            </f:if>
        </f:if>
    </f:section>
</html>
