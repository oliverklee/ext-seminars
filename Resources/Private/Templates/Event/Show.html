<!DOCTYPE html>
<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" xmlns:oelib="OliverKlee\Oelib\ViewHelpers"
      data-namespace-typo3-fluid="true">
    <f:layout name="FrontEndDefault"/>

    <f:section name="main">
        <f:variable name="statistics" value="{event.statistics}"/>
        <f:variable name="classesSpacingValue" value="3"/>
        <f:variable name="classesSpacingValueRow" value="5"/>
        <f:variable name="iconSize" value="27"/>
        <f:variable name="iconColor" value="primary"/>

        <f:comment>Toggle time slots demo HTML</f:comment>
        <f:variable name="showTimeSlotsDemo" value="0"></f:variable>

        <f:comment>Intro</f:comment>
        <f:render partial="Event/DetailIntro" arguments="{_all}"/>

        <f:comment>Overview</f:comment>
        <f:render partial="Event/DetailOverview" arguments="{_all}"/>

        <f:comment>Further information in accordions</f:comment>
        <f:render partial="Event/DetailInformation" arguments="{_all}"/>

        <f:comment>CTA bottom</f:comment>
        <oelib:isFieldEnabled fieldName="registrationBottom">
            <f:if condition="{settings.registrationPage} && {event.registrationRequired}">
                <f:if condition="{event.registrationPossibleByDate} && {statistics.anyVacancies}">
                    <div class="event-detail__cta-bottom row">
                        <div class="col-12}">
                            <h2 class="mb-3">
                                <f:translate key="plugin.eventSingleView.events.property.registration"/>
                            </h2>
                            <p>
                                <f:render partial="Event/RegistrationLink"
                                          arguments="{event: event, viewName: 'eventSingleView'}"/>
                            </p>
                        </div>
                    </div>
                </f:if>
            </f:if>
        </oelib:isFieldEnabled>
    </f:section>

    <f:comment>
        Schema.org structured data for type Event
        TODO: Add condition similar to oelib:isFieldEnabled?
    </f:comment>
    <f:render partial="Event/DetailStructuredData" arguments="{_all}"/>
</html>
